project: default
source:
  repoURL: https://code.europa.eu/api/v4/projects/903/packages/helm/stable
  path: '""'
  targetRevision: v2.4.1
  helm:
    parameters:
      - name: auth_provider.targetRevision
        value: 2.6.4
      - name: simpl_fe.targetRevision
        value: 2.7.1
      - name: tier1_gateway.targetRevision
        value: 2.8.1
      - name: tier2_gateway.targetRevision
        value: 2.7.0
      - name: users_roles.targetRevision
        value: 2.9.0
      - name: contract_consumption_be.targetRevision
        value: 1.13.0
      - name: edc_connector_adapter.targetRevision
        value: 1.8.0
      - name: simpl_catalogue_client.targetRevision
        value: 2.2.0
      - name: xfsc_advsearch_be.targetRevision
        value: 1.18.0
      - name: simpl_edc.targetRevision
        value: 1.0.12
    values: >
      values:
        branch: v2.4.1                    # branch of repo with values - for released version it should be the release branch
      project: default

      namespaceTag: 
        consumer: consumer01              # identifier of deployment and part of fqdn for this agent
        common: common01                  # identifier of deployment and part of fqdn for common components
      domainSuffix: {domain}        

      resourcePreset: low             # set to "low" to disable requests of
      resources

      argocd:
        appname: consumer01               # name of generated argocd app 
        namespace: argocd                 # namespace of your argocd
      cluster:
        address: https://kubernetes.default.svc
        namespace: consumer01             # where the app will be deployed
        commonToolsNamespace: common01    # namespace where main monitoring stack is deployed
        issuer: letsencrypt-azure                 # certificate issuer
      secrets:
        secretEngine: common01             # secret engine name created in OpenBao
        role: common01-role                # role created in OpenBao for access
      monitoring:
        enabled: false                     # should monitoring be disabled
  chart: consumer
destination:
  server: https://kubernetes.default.svc
  namespace: consumer01
